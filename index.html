<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>fang2</title>
    <style>
        #main {
            font-family: 'Avenir', Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;

            width: 100%;
            border: 1px solid #ddd;
            border-collapse: collapse;
        }

        #main th,
        #main td {
            padding: 8px;
            border: 1px solid #ddd;

            text-align: left;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            max-width: 0;
        }

        #main th.price,
        #main th.area,
        #main th.unitPrice {cursor: pointer}

        #main tr:hover {background: #f5f5f5;}

        #main th.no,
        #main th.from {width: 60px}

        p {text-align: center}

        p a {
            text-decoration: none;
            color: #666;
        }

        p a svg {
            width: 24px;
            vertical-align: middle
        }

        th svg {width: 12px;}
    </style>
</head>
<body>
<table id="main">
    <tr>
        <th class="no">NO</th>
        <th class="price" @click="sort('price')">总价 <sort this-cloumn="price" :cloumn="cloumn" :direct="direct"></sort></th>
        <th class="area" @click="sort('area')">面积 <sort this-cloumn="area" :cloumn="cloumn" :direct="direct"></sort></th>
        <th class="unitPrice" @click="sort('unitPrice')">单价 <sort this-cloumn="unitPrice" :cloumn="cloumn" :direct="direct"></sort></th>
        <th>位置</th>
        <th>链接</th>
        <th class="from">来源</th>
    </tr>
    <tbody id="tbody">
    <tr v-for="(i, index) in data">
        <td>{{index}}</td>
        <td>{{i.price}}</td>
        <td>{{i.area}}</td>
        <td>{{i.unitPrice}}</td>
        <td>{{i.location}}</td>
        <td><a :href=i.url target="_blank">{{i.url}}</a></td>
        <td>{{i.from}}</td>
    </tr>
    </tbody>
</table>
<p>
    <a href="https://github.com/jackshawn/fang2" target="_blank">
        <svg data-v-2b78fed8="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" class="icon"><path data-v-2b78fed8="" d="M512 73.142857c242.285714 0 438.857143 196.571429 438.857143 438.857143 0 193.718857-125.696 358.290286-299.995429 416.585143-22.272 3.986286-30.281143-9.728-30.281143-21.138286 0-14.299429 0.585143-61.696 0.585143-120.576 0-41.142857-13.714286-67.437714-29.696-81.152 97.718857-10.861714 200.557714-48.018286 200.557715-216.576 0-48.018286-17.152-86.857143-45.129143-117.723428 4.571429-11.446857 19.419429-55.990857-4.571429-116.553143-36.571429-11.446857-120.576 45.129143-120.576 45.129143a412.525714 412.525714 0 0 0-219.428571 0S318.317714 243.419429 281.746286 254.866286c-23.990857 60.562286-9.142857 105.142857-4.571429 116.553143-28.013714 30.866286-45.129143 69.705143-45.129143 117.723428 0 168.009143 102.290286 205.714286 200.009143 216.576-12.580571 11.446857-23.990857 30.866286-28.013714 58.843429-25.161143 11.446857-89.161143 30.866286-127.414857-36.571429-23.990857-41.728-67.437714-45.129143-67.437715-45.129143-42.861714-0.585143-2.852571 26.843429-2.852571 26.843429 28.562286 13.129143 48.566857 64 48.566857 64 25.709714 78.299429 148.004571 52.004571 148.004572 52.004571 0 36.571429 0.585143 70.838857 0.585142 81.700572 0 11.446857-8.009143 25.161143-30.281142 21.138285C198.912 870.253714 73.216 705.682286 73.216 511.963429c0-242.285714 196.571429-438.857143 438.857143-438.857143zM239.433143 703.414857c1.133714-2.304-0.585143-5.156571-3.986286-6.838857-3.437714-1.133714-6.290286-0.585143-7.424 1.133714-1.133714 2.304 0.585143 5.156571 3.986286 6.838857 2.852571 1.718857 6.290286 1.133714 7.424-1.133714z m17.700571 19.456c2.304-1.718857 1.718857-5.705143-1.133714-9.142857-2.852571-2.852571-6.838857-3.986286-9.142857-1.718857-2.304 1.718857-1.718857 5.705143 1.133714 9.142857 2.852571 2.852571 6.838857 3.986286 9.142857 1.718857z m17.152 25.709714c2.852571-2.304 2.852571-6.838857 0-10.861714-2.304-3.986286-6.838857-5.705143-9.728-3.437714-2.852571 1.718857-2.852571 6.290286 0 10.276571s7.424 5.705143 9.728 3.986286z m23.990857 23.990858c2.304-2.304 1.133714-7.424-2.304-10.861715-3.986286-3.986286-9.142857-4.571429-11.446857-1.718857-2.852571 2.304-1.718857 7.424 2.304 10.861714 3.986286 3.986286 9.142857 4.571429 11.446857 1.718858z m32.585143 14.299428c1.133714-3.437714-2.304-7.424-7.424-9.142857-4.571429-1.133714-9.728 0.585143-10.861714 3.986286s2.304 7.424 7.424 8.557714c4.571429 1.718857 9.728 0 10.861714-3.437714z m35.986286 2.852572c0-3.986286-4.571429-6.838857-9.728-6.290286-5.156571 0-9.142857 2.852571-9.142857 6.290286 0 3.986286 3.986286 6.838857 9.728 6.290285 5.156571 0 9.142857-2.852571 9.142857-6.290285z m33.133714-5.705143c-0.585143-3.437714-5.156571-5.705143-10.276571-5.156572-5.156571 1.133714-8.557714 4.571429-8.009143 8.557715 0.585143 3.437714 5.156571 5.705143 10.276571 4.571428s8.557714-4.571429 8.009143-8.009143z"></path></svg>
        <br>
        https://github.com/jackshawn/fang2
    </a>
</p>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="data.js"></script>
<script>
    Vue.component('sort', {
        props: {
            cloumn: String,
            direct: String,
            thisCloumn: String
        },
        template: '<span>' +
                    '<svg v-if="cloumn !== thisCloumn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6214"><path d="M108.208681 670.888449c20.874205-16.374376 50.998058-12.87451 67.372434 7.999695l124.495258 158.368968V48.03717c0-26.498991 21.499181-47.998172 47.998172-47.998171S396.072717 21.53818 396.072717 48.03717v927.964658c0 20.499219-12.999505 38.623529-32.373767 45.373272-4.99981 1.749933-10.374605 2.6249-15.624405 2.6249-14.499448 0-28.498915-6.499752-37.748562-18.3743L100.08399 738.260883C83.709614 717.511673 87.334476 687.262825 108.208681 670.888449zM634.063653 2.663899c19.249267-6.749743 40.748448-0.374986 53.372967 15.7494l210.241993 267.364817c16.374376 20.74921 12.749514 50.998058-8.12469 67.372434-20.74921 16.374376-50.998058 12.87451-67.372434-7.999695l-124.495259-158.368969v789.219942c0 26.498991-21.499181 47.998172-47.998172 47.998172s-47.998172-21.499181-47.998172-47.998172V48.03717c0.124995-20.374224 13.1245-38.623529 32.373767-45.373271z m0 0" fill="" p-id="6215"></path></svg>' +
                    '<svg v-else-if=\'direct === "desc"\' viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6564"><path d="M566.893 679.878V64.325H454.971v895.35l279.798-279.797z" p-id="6565"></path></svg>' +
                    '<svg v-else=\'direct === "asc"\' viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6654"><path d="M360.966145 349.9523 429.261601 349.9523 510.972601 349.9523 552.070624 349.9523 552.070624 976.113363 663.032832 976.113363 663.032832 349.9523 663.032832 47.886637Z" p-id="6655"></path></svg>' +
                  '</span>'
    });
    new Vue({
        el: '#main',
        data: {
            data: window.data,
            direct: '',
            cloumn: ''
        },
        methods: {
            sort: function(cloumn) {
                var _this = this;

                if(!this.cloumn || this.cloumn !== cloumn) {
                    this.cloumn = cloumn;
                    this.direct = 'desc'
                } else {
                    this.direct = this.direct === 'desc' ? 'asc' : 'desc'
                }

                this.data = this.data.sort(function(a, b) {
                    return _this.direct === 'asc' ? a[cloumn] - b[cloumn] : b[cloumn] - a[cloumn]
                })
            }
        }
    })
</script>
</body>
</html>